# ARTICLE.md 編集メモ

作成日: 2026-01-05

## インタビュー内容

### 著者について
- Unix/Linux技術者
- Webフロントエンドは得意ではない（JSは管理しきれない）
- vivliostyle使用経験あり（IPSJ原稿など、ただし記事では言及しない）
- pandoc-embedz、grepleは自作ツール

### 動機・問題意識
> 「LaTeXのような優れた組版システムが古くからあるのに、たかがハガキの宛名印刷で苦労するのはおかしい」

- 従来システム（kon104）はJavaScriptベースで保守が難しくなった
- 技術的興味もあった
- ブラウザ依存からの脱却

### 技術選定理由
**vivliostyle**:
- 日本語組版に強い（JLREQ準拠）
- 既に使用経験あり
- OSSで無料
- CLI対応（ブラウザ不要）

**pandoc-embedz**:
- 自作ツール、OSS公開済み
- Jinja2テンプレートでCSV→HTML変換

### 記事の方向性
- **想定読者**: Unix/Linux技術者、組版に興味がある人
- **トーン**: 技術解説寄り（体験記ではなく）
- **メッセージ**: CLI組版のすすめ、設計思想の共有
- **読者への期待**: そのまま使うより、参考にしてカスタマイズしてもらう

### 記事に含めないこと
- IPSJ原稿でのvivliostyle使用経験（年賀状に集中）
- Cloud Run構想（現状のシステムに集中）
- CSSの細かいテクニック（著者はWeb技術が得意ではない）

### 公開情報
- GitHub: tecolicom/nenga-print
- Docker Hub: tecolicom/nenga-print
- 画像: プレビューPDFを掲載予定（個人情報に注意）

---

## 編集方針

### 採用した構成
1. **問題提起から入る**: 「なぜ良いツールがないのか」という著者の問題意識を冒頭に
2. **処理フロー図を早めに提示**: システム全体像を先に見せる
3. **技術解説は段階的に**: CSV → テンプレート → CSS → 実行方法の順
4. **コード例は実用的な抜粋**: 全体を載せず、ポイントとなる部分を抽出
5. **Docker実行を強調**: 環境構築なしで試せることをアピール

### この構成にした理由
- 技術者向けなので、問題意識→解決策の流れが自然
- 著者がCSS詳細を語りたくないので、CSSセクションは公式仕様の引用中心
- 「カスタマイズしてほしい」という意図に合わせ、設計思想を丁寧に説明

---

## 代替案・検討事項

### タイトル候補
**採用**: 「CLI組版で年賀状宛名印刷 ― vivliostyle + Jinja2 による実践」

**不採用案**:
- 「なぜ年賀状の宛名印刷で苦労するのか」→ 問題提起が強すぎる、解決策が見えない
- 「pandoc-embedz + vivliostyle による年賀状宛名印刷」→ ツール名の羅列で魅力がない
- 「CLI完結の年賀状宛名印刷システムを作った」→ 「作った」は体験記寄りに見える

### 構成の代替案

**案A: チュートリアル形式**（不採用）
- 「まずCSVを用意して...」と手順を追う形式
- 不採用理由: 著者は「そのまま使う」より「参考にしてカスタマイズ」を期待
- チュートリアルは手順に縛られ、設計思想が伝わりにくい

**案B: 体験記形式**（不採用）
- 「kon104に不満があって...」から始める形式
- 不採用理由: 著者は「技術解説寄り」を希望
- 体験記は主観的になりがちで、技術的な再現性が下がる

**案C: 比較記事形式**（不採用）
- vivliostyle vs WeasyPrint vs Puppeteer の比較
- 不採用理由: 著者は他ツールを深く検討していない
- 浅い比較は読者の誤解を招く可能性

### セクション構成の代替

**郵便番号位置の詳細**:
- 現状: 公式仕様の表と簡単なCSS例
- 代替案: より詳細な計算過程を載せる
- 採用理由: 著者が「CSSは得意でない」ため、深入りを避けた

**grepleの扱い**:
- 現状: 「参考」として簡単に言及
- 代替案: grepleの使い方も詳しく説明
- 採用理由: 著者は「各自の方法でCSVを用意」を想定、grepleは個人ツール色が強い

**Docker実行の位置**:
- 現状: 「実行方法」セクションの後半
- 代替案: 冒頭の「クイックスタート」として先に出す
- 採用理由: 設計思想を先に理解してほしい意図を優先

---

## 今後の編集課題

### 画像の準備
- [ ] nenga-preview.pdf の1ページ目をPNG化
- [ ] 個人情報を隠すか、sample.csvで再生成
- [ ] 画像サイズの最適化（Qiitaの推奨サイズ確認）

### 投稿前の確認
- [ ] コードブロックのシンタックスハイライト確認
- [ ] リンク切れチェック
- [ ] タグの選定（vivliostyle, CSS組版, Jinja2, CLI, 年賀状）

### 反響に応じた追記候補
- Windowsでの動作確認情報
- 縦書き対応版（著者は横書きのみ実装）
- 封筒・名刺への応用例

---

## 参考情報

### 類似記事（Qiita/Zenn）
DESIGN.mdに記載の参考記事:
- 年賀状の宛名の作成と印刷をブラウザでやってみる - Qiita
- HTML+CSSで宛名印刷 - うならぼ
- html + css で年賀状の宛名書き - adbird備忘録

これらはブラウザベース。本記事はCLI完結という差別化ポイントがある。

### 想定される質問
- Q: なぜLaTeXを使わないのか？
  - A: HTMLテンプレートの方が住所録との親和性が高い、Jinja2が使える
- Q: WeasyPrintではダメなのか？
  - A: vivliostyleの方が日本語組版の実績があり、ドキュメントも充実
- Q: 縦書きは対応しないのか？
  - A: vivliostyleは縦書き対応しているが、本システムでは横書きのみ実装
